<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="utf-8">
    <title>JSDoc: Interface: DataMapping</title>

    <script src="scripts/prettify/prettify.js"> </script>
    <script src="scripts/prettify/lang-css.js"> </script>
    <!--[if lt IE 9]>
      <script src="//html5shiv.googlecode.com/svn/trunk/html5.js"></script>
    <![endif]-->
    <link type="text/css" rel="stylesheet" href="styles/prettify-tomorrow.css">
    <link type="text/css" rel="stylesheet" href="styles/jsdoc-default.css">
</head>

<body>

<div id="main">

    <h1 class="page-title">Interface: DataMapping</h1>

    




<section>

<header>
    
        <h2>DataMapping</h2>
        
            <div class="class-description">Interface for DataMapping which can be supplied to shredders/unshredders
and queryHandlers</div>
        
    
</header>

<article>
    <div class="container-overview">
    
        

        


<dl class="details">

    

    

    

    

    

    

    

    

    

    

    

    

    
    <dt class="tag-source">Source:</dt>
    <dd class="tag-source"><ul class="dummy"><li>
        <a href="DataMapping.js.html">DataMapping.js</a>, <a href="DataMapping.js.html#line6">line 6</a>
    </li></ul></dd>
    

    

    

    
</dl>


        
    
    </div>

    

    

    

    

    

    

    

    
        <h3 class="subsection-title">Methods</h3>

        
            

    

    
    <h4 class="name" id="mapFields"><span class="type-signature"></span>mapFields<span class="signature">(item)</span><span class="type-signature"> &rarr; {<a href="Item.html">Item</a>}</span></h4>
    

    



<div class="description">
    Field mapping function which takes an item and returns the mapped item
</div>









    <h5>Parameters:</h5>
    

<table class="params">
    <thead>
    <tr>
        
        <th>Name</th>
        

        <th>Type</th>

        

        

        <th class="last">Description</th>
    </tr>
    </thead>

    <tbody>
    

        <tr>
            
                <td class="name"><code>item</code></td>
            

            <td class="type">
            
                
<span class="param-type"><a href="Item.html">Item</a></span>


            
            </td>

            

            

            <td class="description last"></td>
        </tr>

    
    </tbody>
</table>






<dl class="details">

    

    

    

    

    

    

    

    

    

    

    

    

    
    <dt class="tag-source">Source:</dt>
    <dd class="tag-source"><ul class="dummy"><li>
        <a href="DataMapping.js.html">DataMapping.js</a>, <a href="DataMapping.js.html#line14">line 14</a>
    </li></ul></dd>
    

    

    

    
</dl>















<h5>Returns:</h5>

        
<div class="param-desc">
    Returns the mapped item.
<pre>
This is typically used when there is a need to tranform the data before
it is stored in the database. One use case would be for converting ISO Datetime
string values to numbers to enable querying and sorting in the DB. e.g.
<code>
dataMapping.mapFields = function(item) {
  var mappedItem = {};
  mappedItem.data = {};
  Object.keys(item.data).forEach(function(field) {
    if (field == 'hireDate') {
      var date = new Date(item.data[field]);
      mappedItem.data[field] = date.getTime();
    } else {
      mappedItem.data[field] = item.data[field];
    }
  });
  mappedItem.metadata = item.metadata;
  return mappedItem;
};
</code>
</pre>
</div>



<dl>
    <dt>
        Type
    </dt>
    <dd>
        
<span class="param-type"><a href="Item.html">Item</a></span>


    </dd>
</dl>

    





        
            

    

    
    <h4 class="name" id="mapFilterCriterion"><span class="type-signature"></span>mapFilterCriterion<span class="signature">(item)</span><span class="type-signature"> &rarr; {<a href="AttributeFilter.html">AttributeFilter</a>|<a href="CompoundFilter.html">CompoundFilter</a>}</span></h4>
    

    



<div class="description">
    FilterCriterion mapping function which takes filterCriterion and returns the mapped filterCriterion
</div>









    <h5>Parameters:</h5>
    

<table class="params">
    <thead>
    <tr>
        
        <th>Name</th>
        

        <th>Type</th>

        

        

        <th class="last">Description</th>
    </tr>
    </thead>

    <tbody>
    

        <tr>
            
                <td class="name"><code>item</code></td>
            

            <td class="type">
            
                
<span class="param-type"><a href="AttributeFilter.html">AttributeFilter</a></span>
|

<span class="param-type"><a href="CompoundFilter.html">CompoundFilter</a></span>


            
            </td>

            

            

            <td class="description last"></td>
        </tr>

    
    </tbody>
</table>






<dl class="details">

    

    

    

    

    

    

    

    

    

    

    

    

    
    <dt class="tag-source">Source:</dt>
    <dd class="tag-source"><ul class="dummy"><li>
        <a href="DataMapping.js.html">DataMapping.js</a>, <a href="DataMapping.js.html#line79">line 79</a>
    </li></ul></dd>
    

    

    

    
</dl>















<h5>Returns:</h5>

        
<div class="param-desc">
    Returns the mapped filterCriterion.
<pre>
This is required when mapFields was used and queries are processed. e.g.
<code>
dataMapping.mapFilterCriterion = function(filterCriterion) {
  if (filterCriterion && filterCriterion.attribute == 'hireDate') {
    filterCriterion.value = (new Date(filterCriterion.value)).getTime();
  }
  return filterCriterion;
};
</code>
</pre>
</div>



<dl>
    <dt>
        Type
    </dt>
    <dd>
        
<span class="param-type"><a href="AttributeFilter.html">AttributeFilter</a></span>
|

<span class="param-type"><a href="CompoundFilter.html">CompoundFilter</a></span>


    </dd>
</dl>

    





        
            

    

    
    <h4 class="name" id="unmapFields"><span class="type-signature"></span>unmapFields<span class="signature">(item)</span><span class="type-signature"> &rarr; {<a href="Item.html">Item</a>}</span></h4>
    

    



<div class="description">
    Field unmapping function which takes a mapped item and returns the item
</div>









    <h5>Parameters:</h5>
    

<table class="params">
    <thead>
    <tr>
        
        <th>Name</th>
        

        <th>Type</th>

        

        

        <th class="last">Description</th>
    </tr>
    </thead>

    <tbody>
    

        <tr>
            
                <td class="name"><code>item</code></td>
            

            <td class="type">
            
                
<span class="param-type"><a href="Item.html">Item</a></span>


            
            </td>

            

            

            <td class="description last"></td>
        </tr>

    
    </tbody>
</table>






<dl class="details">

    

    

    

    

    

    

    

    

    

    

    

    

    
    <dt class="tag-source">Source:</dt>
    <dd class="tag-source"><ul class="dummy"><li>
        <a href="DataMapping.js.html">DataMapping.js</a>, <a href="DataMapping.js.html#line47">line 47</a>
    </li></ul></dd>
    

    

    

    
</dl>















<h5>Returns:</h5>

        
<div class="param-desc">
    Returns the unmapped item.
<pre>
This is required when mapFields was used so that we can transform
back the data. e.g.
<code>
dataMapping.unmapFields = function(item) {
  var unmappedItem = {};
  unmappedItem.data = {};
  Object.keys(item.data).forEach(function(field) {
    if (field == 'hireDate') {
      var date = new Date(item.data[field]);
      unmappedItem.data[field] = date.toISOString();
    } else {
      unmappedItem.data[field] = item.data[field];
    }
  });
  unmappedItem.metadata = item.metadata;
  return unmappedItem;
};
</code>
</pre>
</div>



<dl>
    <dt>
        Type
    </dt>
    <dd>
        
<span class="param-type"><a href="Item.html">Item</a></span>


    </dd>
</dl>

    





        
    

    

    
</article>

</section>




</div>

<nav>
    <h2><a href="index.html">Home</a></h2><h3>Classes</h3><ul><li><a href="ArrayPersistenceStoreFactory.html">ArrayPersistenceStoreFactory</a></li><li><a href="cacheStrategies.html">cacheStrategies</a></li><li><a href="ConfigurablePouchDBStoreFactory.html">ConfigurablePouchDBStoreFactory</a></li><li><a href="DefaultResponseProxy.html">DefaultResponseProxy</a></li><li><a href="fetchStrategies.html">fetchStrategies</a></li><li><a href="FileSystemPersistenceStoreFactory.html">FileSystemPersistenceStoreFactory</a></li><li><a href="LocalPersistenceStoreFactory.html">LocalPersistenceStoreFactory</a></li><li><a href="OfflineCache.html">OfflineCache</a></li><li><a href="oracleRestJsonShredding.html">oracleRestJsonShredding</a></li><li><a href="PersistenceManager.html">PersistenceManager</a></li><li><a href="PersistenceRegistration.html">PersistenceRegistration</a></li><li><a href="PersistenceStore.html">PersistenceStore</a></li><li><a href="PersistenceStoreFactory.html">PersistenceStoreFactory</a></li><li><a href="PersistenceStoreManager.html">PersistenceStoreManager</a></li><li><a href="PersistenceSyncManager.html">PersistenceSyncManager</a></li><li><a href="persistenceUtils.html">persistenceUtils</a></li><li><a href="PouchDBPersistenceStoreFactory.html">PouchDBPersistenceStoreFactory</a></li><li><a href="queryHandlers.html">queryHandlers</a></li><li><a href="simpleBinaryDataShredding.html">simpleBinaryDataShredding</a></li><li><a href="simpleJsonShredding.html">simpleJsonShredding</a></li></ul><h3>Interfaces</h3><ul><li><a href="AttributeFilter.html">AttributeFilter</a></li><li><a href="CompoundFilter.html">CompoundFilter</a></li><li><a href="DataMapping.html">DataMapping</a></li><li><a href="Item.html">Item</a></li><li><a href="ItemMetadata.html">ItemMetadata</a></li></ul>
</nav>

<br class="clear">

<footer>
    Documentation generated by <a href="https://github.com/jsdoc/jsdoc">JSDoc 3.6.3</a>
</footer>

<script> prettyPrint(); </script>
<script src="scripts/linenumber.js"> </script>
</body>
</html>